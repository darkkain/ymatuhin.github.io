<!-- Thanks to kizu.ru -->

{% assign result_prev = '' %}
{% assign result_next = '' %}

{% capture list_posts_categories_url %}^{{ page.url }}{% endcapture %}

<p class="page-arrows-box">
{% for item in site.posts %}
    {% unless item.invisible and site.debug != true %}
        {% assign post = item %}

        {% assign list_posts_categories = "^/" %}
        {% for category in post.categories %}
            {% capture list_posts_categories %}{{ list_posts_categories }}{{ category }}/{% endcapture %}
        {% endfor %}

        {% if list_posts_categories_url contains list_posts_categories and list_posts_categories != "^/" %}
            {% if post == item %}
                {% if post_next.id == page.id %}
                    {% assign processed_post = post %}
                        <a class="page-arrows page-arrows_prev" href="{{ post.url }}/">{{ processed_post.title }}</a>
                {% endif %}
                {% if post.id == page.id %}
                    {% if post_next %}
                        {% assign processed_post = post_next %}
                        {% capture result_next %}
                            <a class="page-arrows page-arrows_next" href="{{ post_next.url }}/">{{ processed_post.title }}</a>
                        {% endcapture %}
                    {% endif %}
                {% endif %}
                {% assign post_next = item %}
            {% endif %}
        {% endif %}
    {% endunless %}
{% endfor %}

{{ result_prev }}
{{ result_next }}
</p>
