---
layout: post
title: Проблема верстки под современные браузеры или борьба с расширениями
redirect_from:
  -  /front-end/the_problem_of_web_dev_for_modern_browsers_or_fighting_with_extensions/
categories: blog
tags: [css, костыль]
---

<p>Я думаю для вас не секрет, что почти у всех современных и популярных браузеров есть дополнения, расширения, аддоны и прочее. С одной стороны, появление всех этих аддонов — хороший знак. Они дополняют новые функции, которых нет в самом браузере. Но как и везде есть и обратная сторона монеты — расширения могут делать практически все, в том числе не до конца поняв что они наделали.</p>

<p>К чему я все это? А к тому, расширения имеют доступ к нашему <code>html</code> файлу, и могу внедрять в него свои стили и js-код. Вреда от js коллизий я пока не замечал, а вот переопределить в расширении стили для <code>html</code>, <code>body</code> — запросто.</p>

<p>Конечно они могут сделать все, что захотят. Но наша задача, сделать так, чтобы они не сломали случайно наш красивенький сайт.</p>

<h2><a id="why" href="#why" class="short-link">#</a> Почему так происходит?</h2>

<p>Основной причиной для этого является стилизация страницы настроек для плагина (это касается Google Chrome). Т.к. страница настроек это обычная html страница, то к ней пишут стили для <code>html</code>, <code>body</code> и т.д.</p>

<p>Что чаще всего случайно ломают? Сложно сказать, я замечал в основном только несоответствия по шрифтам и фону.</p>

<h2><a id="what_to_do" href="#what_to_do" class="short-link">#</a> Что нам со всем этим делать?</h2>

<p>Первое что нужно, это переписать свои стили, отвечающие за шрифт и фон для <code>html</code> и <code>body</code> с добавлением <code>!important</code>. К примеру вот так:</p>

{% highlight css %}
html {
  background: #fff url(..) no-repeat !important;
  font: 14px/1.2 Arial, sans-serif !important;
}

body {
  background: inherit !important;
  font: inherit !important;
}
{% endhighlight %}

<p>Свойство <code>inherit</code> не работает в IE < 8 версии. Поэтому если вы поддерживаете 7 версию этого чудесного браузера, вам нужно будет переписать этот участок кода самому в зависимости от ваших требований.</p>

<p>Это тот необходимый минимум, которого хватает наверное в 90% случаев. А у вас съезжал сайт из-за расширений?</p>
